<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Traits used to represent lattices for use as the domain of a dataflow analysis."><title>rustc_mir_dataflow::lattice - Rust</title><script> if (window.location.protocol !== "file:") document.write(`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">`)</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rustc_mir_dataflow" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0-dev" data-channel="nightly" data-search-js="search-42d8da7a6b9792c2.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../rustc_mir_dataflow/index.html">rustc_mir_dataflow</a><span class="version">1.78.0-dev</span></h2></div><h2 class="location"><a href="#">Module lattice</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li></ul></section><h2><a href="../index.html">In crate rustc_mir_dataflow</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../rustc_mir_dataflow/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">rustc_mir_dataflow</a>::<wbr><a class="mod" href="#">lattice</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/rustc_mir_dataflow/framework/lattice.rs.html#1-364">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Traits used to represent <a href="https://en.wikipedia.org/wiki/Lattice_(order)">lattices</a> for use as the domain of a dataflow analysis.</p>
<h2 id="overview"><a class="doc-anchor" href="#overview">§</a>Overview</h2>
<p>The most common lattice is a powerset of some set <code>S</code>, ordered by <a href="https://en.wikipedia.org/wiki/Subset">set inclusion</a>. The <a href="https://en.wikipedia.org/wiki/Hasse_diagram">Hasse
diagram</a> for the powerset of a set with two elements (<code>X</code> and <code>Y</code>) is shown below. Note that
distinct elements at the same height in a Hasse diagram (e.g. <code>{X}</code> and <code>{Y}</code>) are
<em>incomparable</em>, not equal.</p>
<div class="example-wrap"><pre class="language-text"><code>     {X, Y}    &lt;- top
      /  \
   {X}    {Y}
      \  /
       {}      &lt;- bottom

</code></pre></div>
<p>The defining characteristic of a lattice—the one that differentiates it from a <a href="https://en.wikipedia.org/wiki/Partially_ordered_set">partially
ordered set</a>—is the existence of a <em>unique</em> least upper and greatest lower bound for
every pair of elements. The lattice join operator (<code>∨</code>) returns the least upper bound, and the
lattice meet operator (<code>∧</code>) returns the greatest lower bound. Types that implement one operator
but not the other are known as semilattices. Dataflow analysis only uses the join operator and
will work with any join-semilattice, but both should be specified when possible.</p>
<h3 id="partialord"><a class="doc-anchor" href="#partialord">§</a><code>PartialOrd</code></h3>
<p>Given that they represent partially ordered sets, you may be surprised that <a href="trait.JoinSemiLattice.html" title="trait rustc_mir_dataflow::lattice::JoinSemiLattice"><code>JoinSemiLattice</code></a>
and <a href="trait.MeetSemiLattice.html" title="trait rustc_mir_dataflow::lattice::MeetSemiLattice"><code>MeetSemiLattice</code></a> do not have <a href="https://doc.rust-lang.org/nightly/core/cmp/trait.PartialOrd.html" title="trait core::cmp::PartialOrd"><code>PartialOrd</code></a> as a supertrait. This
is because most standard library types use lexicographic ordering instead of set inclusion for
their <code>PartialOrd</code> impl. Since we do not actually need to compare lattice elements to run a
dataflow analysis, there’s no need for a newtype wrapper with a custom <code>PartialOrd</code> impl. The
only benefit would be the ability to check that the least upper (or greatest lower) bound
returned by the lattice join (or meet) operator was in fact greater (or lower) than the inputs.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Dual.html" title="struct rustc_mir_dataflow::lattice::Dual">Dual</a></div><div class="desc docblock-short">The counterpart of a given semilattice <code>T</code> using the <a href="https://en.wikipedia.org/wiki/Duality_(order_theory)">inverse order</a>.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.FlatSet.html" title="enum rustc_mir_dataflow::lattice::FlatSet">FlatSet</a></div><div class="desc docblock-short">Extends a type <code>T</code> with top and bottom elements to make it a partially ordered set in which no
value of <code>T</code> is comparable with any other.</div></li><li><div class="item-name"><a class="enum" href="enum.MaybeReachable.html" title="enum rustc_mir_dataflow::lattice::MaybeReachable">MaybeReachable</a></div><div class="desc docblock-short">Extend a lattice with a bottom value to represent an unreachable execution.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.HasBottom.html" title="trait rustc_mir_dataflow::lattice::HasBottom">HasBottom</a></div><div class="desc docblock-short">A set that has a “bottom” element, which is less than or equal to any other element.</div></li><li><div class="item-name"><a class="trait" href="trait.HasTop.html" title="trait rustc_mir_dataflow::lattice::HasTop">HasTop</a></div><div class="desc docblock-short">A set that has a “top” element, which is greater than or equal to any other element.</div></li><li><div class="item-name"><a class="trait" href="trait.JoinSemiLattice.html" title="trait rustc_mir_dataflow::lattice::JoinSemiLattice">JoinSemiLattice</a></div><div class="desc docblock-short">A <a href="https://en.wikipedia.org/wiki/Partially_ordered_set">partially ordered set</a> that has a <a href="https://en.wikipedia.org/wiki/Infimum_and_supremum">least upper bound</a> for any pair of elements
in the set.</div></li><li><div class="item-name"><a class="trait" href="trait.MeetSemiLattice.html" title="trait rustc_mir_dataflow::lattice::MeetSemiLattice">MeetSemiLattice</a></div><div class="desc docblock-short">A <a href="https://en.wikipedia.org/wiki/Partially_ordered_set">partially ordered set</a> that has a <a href="https://en.wikipedia.org/wiki/Infimum_and_supremum">greatest lower bound</a> for any pair of
elements in the set.</div></li></ul></section></div></main></body></html>