<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `mapgen` mod in crate `rustc_codegen_llvm`."><title>rustc_codegen_llvm::coverageinfo::mapgen - Rust</title><script> if (window.location.protocol !== "file:") document.write(`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2">`)</script><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-e935ef01ae1c1829.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="rustc_codegen_llvm" data-themes="" data-resource-suffix="" data-rustdoc-version="1.78.0-dev" data-channel="nightly" data-search-js="search-42d8da7a6b9792c2.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../../static.files/storage-4c98445ec4002617.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-12cf3b4f4f9dc36d.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-04d5337699b92874.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../../rustc_codegen_llvm/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../rustc_codegen_llvm/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2><a href="../../../rustc_codegen_llvm/index.html">rustc_codegen_llvm</a><span class="version">1.78.0-dev</span></h2></div><h2 class="location"><a href="#">Module mapgen</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In rustc_codegen_llvm::coverageinfo</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../../rustc_codegen_llvm/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">rustc_codegen_llvm</a>::<wbr><a href="../index.html">coverageinfo</a>::<wbr><a class="mod" href="#">mapgen</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/rustc_codegen_llvm/coverageinfo/mapgen.rs.html#1-451">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.GlobalFileTable.html" title="struct rustc_codegen_llvm::coverageinfo::mapgen::GlobalFileTable">GlobalFileTable</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Maps “global” (per-CGU) file ID numbers to their underlying filenames.</div></li><li><div class="item-name"><a class="struct" href="struct.LocalFileId.html" title="struct rustc_codegen_llvm::coverageinfo::mapgen::LocalFileId">LocalFileId</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="struct" href="struct.VirtualFileMapping.html" title="struct rustc_codegen_llvm::coverageinfo::mapgen::VirtualFileMapping">VirtualFileMapping</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Holds a mapping from “local” (per-function) file IDs to “global” (per-CGU)
file IDs.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.add_unused_function_coverage.html" title="fn rustc_codegen_llvm::coverageinfo::mapgen::add_unused_function_coverage">add_unused_function_coverage</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="fn" href="fn.add_unused_functions.html" title="fn rustc_codegen_llvm::coverageinfo::mapgen::add_unused_functions">add_unused_functions</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">When finalizing the coverage map, <code>FunctionCoverage</code> only has the <code>CodeRegion</code>s and counters for
the functions that went through codegen; such as public functions and “used” functions
(functions referenced by other “used” or public items). Any other functions considered unused,
or “Unreachable”, were still parsed and processed through the MIR stage, but were not
codegenned. (Note that <code>-Clink-dead-code</code> can force some unused code to be codegenned, but
that flag is known to cause other errors, when combined with <code>-C instrument-coverage</code>; and
<code>-Clink-dead-code</code> will not generate code for unused generic functions.)</div></li><li><div class="item-name"><a class="fn" href="fn.codegenned_and_inlined_items.html" title="fn rustc_codegen_llvm::coverageinfo::mapgen::codegenned_and_inlined_items">codegenned_and_inlined_items</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">All items participating in code generation together with (instrumented)
items inlined into them.</div></li><li><div class="item-name"><a class="fn" href="fn.declare_unused_fn.html" title="fn rustc_codegen_llvm::coverageinfo::mapgen::declare_unused_fn">declare_unused_fn</a><span title="Restricted Visibility">&nbsp;🔒</span> </div></li><li><div class="item-name"><a class="fn" href="fn.encode_mappings_for_function.html" title="fn rustc_codegen_llvm::coverageinfo::mapgen::encode_mappings_for_function">encode_mappings_for_function</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Using the expressions and counter regions collected for a single function,
generate the variable-sized payload of its corresponding <code>__llvm_covfun</code>
entry. The payload is returned as a vector of bytes.</div></li><li><div class="item-name"><a class="fn" href="fn.finalize.html" title="fn rustc_codegen_llvm::coverageinfo::mapgen::finalize">finalize</a></div><div class="desc docblock-short">Generates and exports the Coverage Map.</div></li><li><div class="item-name"><a class="fn" href="fn.generate_coverage_map.html" title="fn rustc_codegen_llvm::coverageinfo::mapgen::generate_coverage_map">generate_coverage_map</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Construct coverage map header and the array of function records, and combine them into the
coverage map. Save the coverage map data into the LLVM IR as a static global using a
specific, well-known section and name.</div></li><li><div class="item-name"><a class="fn" href="fn.save_function_record.html" title="fn rustc_codegen_llvm::coverageinfo::mapgen::save_function_record">save_function_record</a><span title="Restricted Visibility">&nbsp;🔒</span> </div><div class="desc docblock-short">Construct a function record and combine it with the function’s coverage mapping data.
Save the function record into the LLVM IR as a static global using a
specific, well-known section and name.</div></li></ul></section></div></main></body></html>