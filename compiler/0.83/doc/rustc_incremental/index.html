<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Support for serializing the dep-graph and reloading it."><title>rustc_incremental - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-49344e4802b2d48a.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="rustc_incremental" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-dev" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../rustc_incremental/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../rustc_incremental/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2><a href="../rustc_incremental/index.html">rustc_<wbr>incremental</a><span class="version">1.83.0-dev</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#statics" title="Statics">Statics</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>rustc_incremental</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/rustc_incremental/lib.rs.html#1-23">source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Support for serializing the dep-graph and reloading it.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="assert_dep_graph/index.html" title="mod rustc_incremental::assert_dep_graph">assert_<wbr>dep_<wbr>graph</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">This pass is only used for the UNIT TESTS and DEBUGGING NEEDS
around dependency graph construction. It serves two purposes; it
will dump graphs in graphviz form to disk, and it searches for
<code>#[rustc_if_this_changed]</code> and <code>#[rustc_then_this_would_need]</code>
annotations. These annotations can be used to test whether paths
exist in the graph. These checks run after codegen, so they view the
the final state of the dependency graph. Note that there are
similar assertions found in <code>persist::dirty_clean</code> which check the
<strong>initial</strong> state of the dependency graph, just after it has been
loaded from disk.</div></li><li><div class="item-name"><a class="mod" href="errors/index.html" title="mod rustc_incremental::errors">errors</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li><li><div class="item-name"><a class="mod" href="persist/index.html" title="mod rustc_incremental::persist">persist</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">When in incremental mode, this pass dumps out the dependency graph
into the given directory. At the same time, it also hashes the
various HIR nodes.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.LoadResult.html" title="enum rustc_incremental::LoadResult">Load<wbr>Result</a></div><div class="desc docblock-short">Represents the result of an attempt to load incremental compilation data.</div></li></ul><h2 id="statics" class="section-header">Statics<a href="#statics" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="static" href="static.DEFAULT_LOCALE_RESOURCE.html" title="static rustc_incremental::DEFAULT_LOCALE_RESOURCE">DEFAULT_<wbr>LOCALE_<wbr>RESOURCE</a></div><div class="desc docblock-short">Raw content of Fluent resource for this crate, generated by <code>fluent_messages</code> macro,
imported by <code>rustc_driver</code> to include all cratesâ€™ resources in one bundle.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.copy_cgu_workproduct_to_incr_comp_cache_dir.html" title="fn rustc_incremental::copy_cgu_workproduct_to_incr_comp_cache_dir">copy_<wbr>cgu_<wbr>workproduct_<wbr>to_<wbr>incr_<wbr>comp_<wbr>cache_<wbr>dir</a></div><div class="desc docblock-short">Copies a CGU work product to the incremental compilation directory, so next compilation can
find and reuse it.</div></li><li><div class="item-name"><a class="fn" href="fn.finalize_session_directory.html" title="fn rustc_incremental::finalize_session_directory">finalize_<wbr>session_<wbr>directory</a></div><div class="desc docblock-short">This function finalizes and thus â€˜publishesâ€™ the session directory by
renaming it to <code>s-{timestamp}-{svh}</code> and releasing the file lock.
If there have been compilation errors, however, this function will just
delete the presumably invalid session directory.</div></li><li><div class="item-name"><a class="fn" href="fn.in_incr_comp_dir.html" title="fn rustc_incremental::in_incr_comp_dir">in_<wbr>incr_<wbr>comp_<wbr>dir</a></div><div class="desc docblock-short">Returns the path for a given filename within the incremental compilation directory,
not necessarily from the current session.</div></li><li><div class="item-name"><a class="fn" href="fn.in_incr_comp_dir_sess.html" title="fn rustc_incremental::in_incr_comp_dir_sess">in_<wbr>incr_<wbr>comp_<wbr>dir_<wbr>sess</a></div><div class="desc docblock-short">Returns the path for a given filename within the incremental compilation directory
in the current session.</div></li><li><div class="item-name"><a class="fn" href="fn.load_query_result_cache.html" title="fn rustc_incremental::load_query_result_cache">load_<wbr>query_<wbr>result_<wbr>cache</a></div><div class="desc docblock-short">Attempts to load the query result cache from disk</div></li><li><div class="item-name"><a class="fn" href="fn.save_dep_graph.html" title="fn rustc_incremental::save_dep_graph">save_<wbr>dep_<wbr>graph</a></div><div class="desc docblock-short">Saves and writes the <a href="../rustc_middle/dep_graph/type.DepGraph.html" title="type rustc_middle::dep_graph::DepGraph"><code>DepGraph</code></a> to the file system.</div></li><li><div class="item-name"><a class="fn" href="fn.save_work_product_index.html" title="fn rustc_incremental::save_work_product_index">save_<wbr>work_<wbr>product_<wbr>index</a></div><div class="desc docblock-short">Saves the work product index.</div></li><li><div class="item-name"><a class="fn" href="fn.setup_dep_graph.html" title="fn rustc_incremental::setup_dep_graph">setup_<wbr>dep_<wbr>graph</a></div><div class="desc docblock-short">Setups the dependency graph by loading an existing graph from disk and set up streaming of a
new graph to an incremental session directory.</div></li></ul></section></div></main></body></html>