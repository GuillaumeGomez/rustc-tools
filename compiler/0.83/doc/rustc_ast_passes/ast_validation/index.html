<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Validate AST before lowering it to HIR."><title>rustc_ast_passes::ast_validation - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-49344e4802b2d48a.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rustc_ast_passes" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0-dev" data-channel="nightly" data-search-js="search-e056c65ede92db13.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../rustc_ast_passes/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../rustc_ast_passes/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2><a href="../../rustc_ast_passes/index.html">rustc_<wbr>ast_<wbr>passes</a><span class="version">1.83.0-dev</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module ast_<wbr>validation</a></h2><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate rustc_<wbr>ast_<wbr>passes</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">rustc_ast_passes</a></span><h1>Module <span>ast_validation</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/rustc_ast_passes/ast_validation.rs.html#1-1775">source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Validate AST before lowering it to HIR.</p>
<p>This pass intends to check that the constructed AST is <em>syntactically valid</em> to allow the rest
of the compiler to assume that the AST is valid. These checks cannot be performed during parsing
because attribute macros are allowed to accept certain pieces of invalid syntax such as a
function without body outside of a trait definition:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">â“˜</a><pre class="rust rust-example-rendered"><code><span class="attr">#[my_attribute]
</span><span class="kw">mod </span>foo {
    <span class="kw">fn </span>missing_body();
}</code></pre></div>
<p>These checks are run post-expansion, after AST is frozen, to be able to check for erroneous
constructions produced by proc macros. This pass is only intended for simple checks that do not
require name resolution or type checking, or other kinds of complex analysis.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AstValidator.html" title="struct rustc_ast_passes::ast_validation::AstValidator">AstValidator</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.SelfSemantic.html" title="enum rustc_ast_passes::ast_validation::SelfSemantic">Self<wbr>Semantic</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Is <code>self</code> allowed semantically as the first parameter in an <code>FnDecl</code>?</div></li><li><div class="item-name"><a class="enum" href="enum.TraitOrTraitImpl.html" title="enum rustc_ast_passes::ast_validation::TraitOrTraitImpl">Trait<wbr>OrTrait<wbr>Impl</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.check_crate.html" title="fn rustc_ast_passes::ast_validation::check_crate">check_<wbr>crate</a></div></li><li><div class="item-name"><a class="fn" href="fn.deny_equality_constraints.html" title="fn rustc_ast_passes::ast_validation::deny_equality_constraints">deny_<wbr>equality_<wbr>constraints</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">When encountering an equality constraint in a <code>where</code> clause, emit an error. If the code seems
like itâ€™s setting an associated type, provide an appropriate suggestion.</div></li><li><div class="item-name"><a class="fn" href="fn.validate_generic_param_order.html" title="fn rustc_ast_passes::ast_validation::validate_generic_param_order">validate_<wbr>generic_<wbr>param_<wbr>order</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Checks that generic parameters are in the correct order,
which is lifetimes, then types and then consts. (<code>&lt;'a, T, const N: usize&gt;</code>)</div></li></ul></section></div></main></body></html>