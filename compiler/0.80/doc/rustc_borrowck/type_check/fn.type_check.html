<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Type checks the given `mir` in the context of the inference context `infcx`. Returns any region constraints that have yet to be proven. This result includes liveness constraints that ensure that regions appearing in the types of all local variables are live at all points where that local variable may later be used."><title>type_check in rustc_borrowck::type_check - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-5ca6ca2a1f83705a.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rustc_borrowck" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0-dev" data-channel="nightly" data-search-js="search-d234aafac6c221dd.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-d2fab2bf619172d3.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../rustc_borrowck/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../rustc_borrowck/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2><a href="../../rustc_borrowck/index.html">rustc_borrowck</a><span class="version">1.82.0-dev</span></h2></div><div class="sidebar-elems"><h2><a href="index.html">In rustc_borrowck::type_check</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Function <a href="../index.html">rustc_borrowck</a>::<wbr><a href="index.html">type_check</a>::<wbr><a class="fn" href="#">type_check</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/rustc_borrowck/type_check/mod.rs.html#125-246">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub(crate) fn type_check&lt;'mir, 'tcx&gt;(
    infcx: &amp;<a class="struct" href="../struct.BorrowckInferCtxt.html" title="struct rustc_borrowck::BorrowckInferCtxt">BorrowckInferCtxt</a>&lt;'tcx&gt;,
    param_env: <a class="struct" href="../../rustc_middle/ty/struct.ParamEnv.html" title="struct rustc_middle::ty::ParamEnv">ParamEnv</a>&lt;'tcx&gt;,
    body: &amp;<a class="struct" href="../../rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;,
    promoted: &amp;<a class="struct" href="../../rustc_index/slice/struct.IndexSlice.html" title="struct rustc_index::slice::IndexSlice">IndexSlice</a>&lt;<a class="struct" href="../../rustc_middle/mir/struct.Promoted.html" title="struct rustc_middle::mir::Promoted">Promoted</a>, <a class="struct" href="../../rustc_middle/mir/struct.Body.html" title="struct rustc_middle::mir::Body">Body</a>&lt;'tcx&gt;&gt;,
    universal_regions: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;<a class="struct" href="../universal_regions/struct.UniversalRegions.html" title="struct rustc_borrowck::universal_regions::UniversalRegions">UniversalRegions</a>&lt;'tcx&gt;&gt;,
    location_table: &amp;<a class="struct" href="../location/struct.LocationTable.html" title="struct rustc_borrowck::location::LocationTable">LocationTable</a>,
    borrow_set: &amp;<a class="struct" href="../borrow_set/struct.BorrowSet.html" title="struct rustc_borrowck::borrow_set::BorrowSet">BorrowSet</a>&lt;'tcx&gt;,
    all_facts: &amp;mut <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="type" href="../facts/type.AllFacts.html" title="type rustc_borrowck::facts::AllFacts">AllFacts</a>&gt;,
    flow_inits: &amp;mut <a class="struct" href="../../rustc_mir_dataflow/framework/cursor/struct.ResultsCursor.html" title="struct rustc_mir_dataflow::framework::cursor::ResultsCursor">ResultsCursor</a>&lt;'mir, 'tcx, <a class="struct" href="../../rustc_mir_dataflow/impls/initialized/struct.MaybeInitializedPlaces.html" title="struct rustc_mir_dataflow::impls::initialized::MaybeInitializedPlaces">MaybeInitializedPlaces</a>&lt;'_, 'mir, 'tcx&gt;&gt;,
    move_data: &amp;<a class="struct" href="../../rustc_mir_dataflow/move_paths/struct.MoveData.html" title="struct rustc_mir_dataflow::move_paths::MoveData">MoveData</a>&lt;'tcx&gt;,
    elements: &amp;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc">Rc</a>&lt;<a class="struct" href="../../rustc_mir_dataflow/points/struct.DenseLocationMap.html" title="struct rustc_mir_dataflow::points::DenseLocationMap">DenseLocationMap</a>&gt;,
    upvars: &amp;[&amp;<a class="struct" href="../../rustc_middle/ty/closure/struct.CapturedPlace.html" title="struct rustc_middle::ty::closure::CapturedPlace">CapturedPlace</a>&lt;'tcx&gt;],
) -&gt; <a class="struct" href="struct.MirTypeckResults.html" title="struct rustc_borrowck::type_check::MirTypeckResults">MirTypeckResults</a>&lt;'tcx&gt;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Type checks the given <code>mir</code> in the context of the inference
context <code>infcx</code>. Returns any region constraints that have yet to
be proven. This result includes liveness constraints that
ensure that regions appearing in the types of all local variables
are live at all points where that local variable may later be
used.</p>
<p>This phase of type-check ought to be infallible – this is because
the original, HIR-based type-check succeeded. So if any errors
occur here, we will get a <code>bug!</code> reported.</p>
<h2 id="parameters"><a class="doc-anchor" href="#parameters">§</a>Parameters</h2>
<ul>
<li><code>infcx</code> – inference context to use</li>
<li><code>param_env</code> – parameter environment to use for trait solving</li>
<li><code>body</code> – MIR body to type-check</li>
<li><code>promoted</code> – map of promoted constants within <code>body</code></li>
<li><code>universal_regions</code> – the universal regions from <code>body</code>s function signature</li>
<li><code>location_table</code> – MIR location map of <code>body</code></li>
<li><code>borrow_set</code> – information about borrows occurring in <code>body</code></li>
<li><code>all_facts</code> – when using Polonius, this is the generated set of Polonius facts</li>
<li><code>flow_inits</code> – results of a maybe-init dataflow analysis</li>
<li><code>move_data</code> – move-data constructed when performing the maybe-init dataflow analysis</li>
<li><code>elements</code> – MIR region map</li>
</ul>
</div></details></section></div></main></body></html>